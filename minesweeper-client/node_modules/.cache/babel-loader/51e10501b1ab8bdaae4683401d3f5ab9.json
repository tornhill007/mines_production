{"ast":null,"code":"import _classCallCheck from\"/home/user/WebstormProjects/mines-test/minesweeper-multiplayer/minesweeper-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/user/WebstormProjects/mines-test/minesweeper-multiplayer/minesweeper-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/user/WebstormProjects/mines-test/minesweeper-multiplayer/minesweeper-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/user/WebstormProjects/mines-test/minesweeper-multiplayer/minesweeper-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from\"react\";import{connect}from\"react-redux\";import{Redirect,withRouter}from\"react-router-dom\";import{generateUID}from'../../utils/generateUID';import{SocketContextProvider}from\"../Context/SocketContextProvider\";import{io}from\"socket.io-client\";import{setIsRender,setSocket}from\"../../redux/reducers/socketReducer\";import{setGame,setGameOver,setGamesList,setInformationGame,setIsReady,setListLogs,setListUsersInRoom,setListViewers,setPlayerStats,setSurrendered,setUsersInRoom,setUsersListReadiness,setWin}from\"../../redux/reducers/gameReducer\";import{jsx as _jsx}from\"react/jsx-runtime\";var Auth=/*#__PURE__*/function(_React$Component){_inherits(Auth,_React$Component);var _super=_createSuper(Auth);function Auth(props){var _this;_classCallCheck(this,Auth);_this=_super.call(this,props);_this.state={isRender:false};return _this;}_createClass(Auth,[{key:\"componentDidUpdate\",value:function componentDidUpdate(prevProps,prevState,snapshot){}},{key:\"render\",value:function render(){var _this2=this;if(!JSON.parse(sessionStorage.getItem('tabId'))){var tabId=generateUID();window.sessionStorage.setItem(\"tabId\",JSON.stringify(tabId));}if(this.props.token&&!this.props.isRender){console.log(\"RENDER\");var socket;socket=io('https://pern-minesweeper-multiplayer.herokuapp.com/',{query:{tabId:JSON.parse(sessionStorage.getItem('tabId')),loggeduser:this.props.token}});socket.on(\"connect\",function(){console.log(\"sockett_ID\",socket.id);_this2.props.setSocket(socket);});socket.on(\"game/new\",function(data){console.log(\"NEW_GAME\",data);_this2.props.setGame({game:data.dataTable});_this2.props.setListLogs([]);_this2.props.setSurrendered(false);_this2.props.setWin({win:false});_this2.props.setGameOver({blownUp:false});_this2.props.setListViewers([]);console.log(\"data_game\",data.game);if(!data.game){_this2.props.history.push(\"/game/\".concat(data.gameId));}else if(data.game.isplaying||data.game.isfinished){_this2.props.history.push(\"/game/\".concat(data.gameId));}});socket.on(\"game/action\",function(data){console.log(\"new_ACTION\",data);_this2.props.setGame({game:data.dataTable,isMine:data.isMine});});socket.on(\"game/list\",function(data){console.log(\"new_list\",data);_this2.props.setGamesList(data);});socket.on(\"game/refresh\",function(data){console.log(\"refresh\",data);// this.props.setGamesList(data);\nif(data.game.isplaying||data.game.isfinished){console.log(\"KKKKKKKKKEK\");_this2.props.history.push(\"/game/\".concat(data.gameId));}});socket.on(\"game/users\",function(data){console.log(\"list_users_in_room\",data);_this2.props.setUsersInRoom(data);});socket.on(\"game/delete/byOwner\",function(data){console.log(\"game_delete_byOwner\",data);if(data.gameDeletedByOwner){_this2.props.history.push(\"/\");}// this.props.setUsersInRoom(data);\n});socket.on(\"game/isReady\",function(data){console.log(\"game_isReady\",data);_this2.props.setIsReady(data);});socket.on(\"game/listReadiness\",function(data){console.log(\"list_readiness\",data);_this2.props.setUsersListReadiness(data);});socket.on(\"game/win\",function(data){console.log(\"game/win\",data);_this2.props.setWin(data);});socket.on(\"game/blownUp\",function(data){console.log(\"blownUp\",data);_this2.props.setGameOver(data);});socket.on(\"game/info\",function(data){console.log(\"information111\",data);_this2.props.setInformationGame(data.game);});socket.on(\"game/surrendered\",function(data){console.log(\"surrendered\",data);_this2.props.setSurrendered(data.surrendered);});socket.on(\"game/listViewers\",function(data){console.log(\"listViewers\",data);_this2.props.setListViewers(data.listViewers);});socket.on(\"game/playerStats\",function(data){console.log(\"playerStats\",data);_this2.props.setPlayerStats(data.playerStats);});socket.on(\"game/listLogs\",function(data){console.log(\"listViewers\",data);_this2.props.setListLogs(data.history);});socket.on(\"game/set/users\",function(data){console.log(\"usersInGames\",data);_this2.props.setListUsersInRoom(data);});this.props.setIsRender(true);}if(!this.props.token)return/*#__PURE__*/_jsx(Redirect,{to:'/login'});if(this.props.token){return/*#__PURE__*/_jsx(Redirect,{to:'/'});}}}]);return Auth;}(React.Component);var mapStateToProps=function mapStateToProps(state){return{token:state.auth.token,isRender:state.socketPage.isRender};};export default withRouter(connect(mapStateToProps,{setSocket:setSocket,setGame:setGame,setIsRender:setIsRender,setGamesList:setGamesList,setUsersInRoom:setUsersInRoom,setUsersListReadiness:setUsersListReadiness,setGameOver:setGameOver,setWin:setWin,setInformationGame:setInformationGame,setSurrendered:setSurrendered,setListViewers:setListViewers,setListLogs:setListLogs,setPlayerStats:setPlayerStats,setListUsersInRoom:setListUsersInRoom,setIsReady:setIsReady})(Auth));","map":{"version":3,"sources":["/home/user/WebstormProjects/mines-test/minesweeper-multiplayer/minesweeper-client/src/components/Auth/Auth.jsx"],"names":["React","connect","Redirect","withRouter","generateUID","SocketContextProvider","io","setIsRender","setSocket","setGame","setGameOver","setGamesList","setInformationGame","setIsReady","setListLogs","setListUsersInRoom","setListViewers","setPlayerStats","setSurrendered","setUsersInRoom","setUsersListReadiness","setWin","Auth","props","state","isRender","prevProps","prevState","snapshot","JSON","parse","sessionStorage","getItem","tabId","window","setItem","stringify","token","console","log","socket","query","loggeduser","on","id","data","game","dataTable","win","blownUp","history","push","gameId","isplaying","isfinished","isMine","gameDeletedByOwner","surrendered","listViewers","playerStats","Component","mapStateToProps","auth","socketPage"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport {connect} from \"react-redux\";\nimport {Redirect, withRouter} from \"react-router-dom\";\nimport {generateUID} from '../../utils/generateUID'\nimport {SocketContextProvider} from \"../Context/SocketContextProvider\";\nimport {io} from \"socket.io-client\";\nimport {setIsRender, setSocket} from \"../../redux/reducers/socketReducer\";\nimport {\n  setGame,\n  setGameOver,\n  setGamesList,\n  setInformationGame,\n  setIsReady,\n  setListLogs,\n  setListUsersInRoom,\n  setListViewers,\n  setPlayerStats,\n  setSurrendered,\n  setUsersInRoom,\n  setUsersListReadiness,\n  setWin\n} from \"../../redux/reducers/gameReducer\";\n\nclass Auth extends React.Component {\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      isRender: false\n    }\n  }\n\n  componentDidUpdate(prevProps, prevState, snapshot) {\n\n\n  }\n\n  render() {\n\n    if (!JSON.parse(sessionStorage.getItem('tabId'))) {\n      let tabId = generateUID();\n      window.sessionStorage.setItem(\"tabId\", JSON.stringify(tabId))\n    }\n\n\n\n    if (this.props.token && !this.props.isRender) {\n      console.log(\"RENDER\")\n      let socket;\n      socket = io('https://pern-minesweeper-multiplayer.herokuapp.com/', {\n        query: {\n          tabId: JSON.parse(sessionStorage.getItem('tabId')),\n          loggeduser: this.props.token\n        }\n      });\n\n      socket.on(\"connect\", () => {\n        console.log(\"sockett_ID\", socket.id)\n        this.props.setSocket(socket);\n      });\n\n      socket.on(\"game/new\", (data) => {\n        console.log(\"NEW_GAME\", data)\n        this.props.setGame({game: data.dataTable});\n        this.props.setListLogs([]);\n        this.props.setSurrendered(false);\n        this.props.setWin({win: false});\n        this.props.setGameOver({blownUp: false});\n        this.props.setListViewers([]);\n        console.log(\"data_game\", data.game)\n        if (!data.game) {\n          this.props.history.push(`/game/${data.gameId}`)\n        } else if (data.game.isplaying || data.game.isfinished) {\n          this.props.history.push(`/game/${data.gameId}`)\n        }\n      })\n\n      socket.on(\"game/action\", (data) => {\n        console.log(\"new_ACTION\", data)\n        this.props.setGame({game: data.dataTable, isMine: data.isMine});\n      })\n\n      socket.on(\"game/list\", (data) => {\n        console.log(\"new_list\", data)\n        this.props.setGamesList(data);\n      })\n\n      socket.on(\"game/refresh\", (data) => {\n        console.log(\"refresh\", data)\n        // this.props.setGamesList(data);\n        if (data.game.isplaying || data.game.isfinished) {\n          console.log(\"KKKKKKKKKEK\")\n          this.props.history.push(`/game/${data.gameId}`)\n        }\n      })\n\n      socket.on(\"game/users\", (data) => {\n        console.log(\"list_users_in_room\", data)\n        this.props.setUsersInRoom(data);\n      })\n\n      socket.on(\"game/delete/byOwner\", (data) => {\n        console.log(\"game_delete_byOwner\", data)\n        if (data.gameDeletedByOwner) {\n          this.props.history.push(`/`)\n        }\n        // this.props.setUsersInRoom(data);\n      })\n\n      socket.on(\"game/isReady\", (data) => {\n        console.log(\"game_isReady\", data)\n        this.props.setIsReady(data);\n      })\n\n      socket.on(\"game/listReadiness\", (data) => {\n        console.log(\"list_readiness\", data)\n        this.props.setUsersListReadiness(data);\n      })\n\n      socket.on(\"game/win\", (data) => {\n        console.log(\"game/win\", data)\n        this.props.setWin(data);\n      })\n\n      socket.on(\"game/blownUp\", (data) => {\n        console.log(\"blownUp\", data)\n        this.props.setGameOver(data);\n      })\n\n      socket.on(\"game/info\", (data) => {\n        console.log(\"information111\", data)\n        this.props.setInformationGame(data.game);\n      })\n\n      socket.on(\"game/surrendered\", (data) => {\n        console.log(\"surrendered\", data)\n        this.props.setSurrendered(data.surrendered);\n      })\n\n      socket.on(\"game/listViewers\", (data) => {\n        console.log(\"listViewers\", data)\n        this.props.setListViewers(data.listViewers);\n      })\n\n      socket.on(\"game/playerStats\", (data) => {\n        console.log(\"playerStats\", data)\n        this.props.setPlayerStats(data.playerStats);\n      })\n\n      socket.on(\"game/listLogs\", (data) => {\n        console.log(\"listViewers\", data)\n        this.props.setListLogs(data.history);\n      })\n\n      socket.on(\"game/set/users\", (data) => {\n        console.log(\"usersInGames\", data)\n        this.props.setListUsersInRoom(data);\n      })\n\n\n      this.props.setIsRender(true)\n    }\n\n\n\n\n\n    if (!this.props.token) return <Redirect to={'/login'}/>\n\n    if (this.props.token) {\n      return <Redirect to={'/'}/>\n    }\n  }\n}\n\nconst mapStateToProps = (state) => ({\n  token: state.auth.token,\n  isRender: state.socketPage.isRender\n})\n\n\nexport default withRouter(connect(mapStateToProps, {\n  setSocket,\n  setGame,\n  setIsRender,\n  setGamesList,\n  setUsersInRoom,\n  setUsersListReadiness,\n  setGameOver,\n  setWin,\n  setInformationGame,\n  setSurrendered,\n  setListViewers,\n  setListLogs,\n  setPlayerStats,\n  setListUsersInRoom,\n  setIsReady\n})(Auth));"]},"metadata":{},"sourceType":"module"}