{"ast":null,"code":"import _classCallCheck from\"/home/user/WebstormProjects/mines-test/minesweeper-multiplayer/minesweeper-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/user/WebstormProjects/mines-test/minesweeper-multiplayer/minesweeper-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/user/WebstormProjects/mines-test/minesweeper-multiplayer/minesweeper-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/user/WebstormProjects/mines-test/minesweeper-multiplayer/minesweeper-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import'./App.css';import React from\"react\";import{BrowserRouter,Switch}from\"react-router-dom\";import{connect,Provider}from\"react-redux\";import store from\"./redux/store\";import DashboardLayoutRoute from\"./layouts/DashboardLayout\";import LoginLayoutRoute from\"./layouts/loginLayout\";import Register from\"./components/Register/Register\";import Login from\"./components/Login/Login\";import Home from\"./components/Home/Home\";import Game from\"./components/Game/Game\";import Auth from\"./components/Auth/Auth\";import{setAuthUserData}from\"./redux/reducers/authReducer\";import{compose}from\"redux\";import{SocketContextProvider}from\"./components/Context/SocketContextProvider\";import Profile from\"./components/Profile/Profile\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var App=/*#__PURE__*/function(_React$Component){_inherits(App,_React$Component);var _super=_createSuper(App);function App(){var _this;_classCallCheck(this,App);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.checkConnection=function(){if(JSON.parse(localStorage.getItem('user'))){var user=JSON.parse(localStorage.getItem('user'));if(user.timestamp>Date.now()-3600000){_this.props.setAuthUserData(user.userId,user.userName,user.token);}else{window.localStorage.removeItem('user');_this.props.setAuthUserData(null,null,null);}}else{_this.props.setAuthUserData(null,null,null);}};return _this;}_createClass(App,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;this.checkConnection();setInterval(function(){console.log(111);_this2.checkConnection();},1000);}},{key:\"render\",value:function render(){return/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsx(Auth,{}),/*#__PURE__*/_jsxs(Switch,{children:[/*#__PURE__*/_jsx(DashboardLayoutRoute,{exact:true,path:\"/profile\",component:Profile}),/*#__PURE__*/_jsx(DashboardLayoutRoute,{exact:true,path:\"/\",component:Home}),/*#__PURE__*/_jsx(DashboardLayoutRoute,{exact:true,path:\"/game/:gameId\",component:Game}),/*#__PURE__*/_jsx(LoginLayoutRoute,{path:\"/register\",component:Register}),/*#__PURE__*/_jsx(LoginLayoutRoute,{path:\"/login\",component:Login})]})]});}}]);return App;}(React.Component);var mapStateToProps=function mapStateToProps(state){return{};};var AppContainer=compose(connect(mapStateToProps,{setAuthUserData:setAuthUserData}))(App);var mainApp=function mainApp(){console.log();return/*#__PURE__*/_jsx(BrowserRouter,{children:/*#__PURE__*/_jsx(Provider,{store:store,children:/*#__PURE__*/_jsx(AppContainer,{})})});};export default mainApp;","map":{"version":3,"sources":["/home/user/WebstormProjects/mines-test/minesweeper-multiplayer/minesweeper-client/src/App.js"],"names":["React","BrowserRouter","Switch","connect","Provider","store","DashboardLayoutRoute","LoginLayoutRoute","Register","Login","Home","Game","Auth","setAuthUserData","compose","SocketContextProvider","Profile","App","checkConnection","JSON","parse","localStorage","getItem","user","timestamp","Date","now","props","userId","userName","token","window","removeItem","setInterval","console","log","Component","mapStateToProps","state","AppContainer","mainApp"],"mappings":"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","sourcesContent":["import './App.css';\nimport React from \"react\";\nimport {BrowserRouter, Switch} from \"react-router-dom\";\nimport {connect, Provider} from \"react-redux\";\nimport store from \"./redux/store\";\nimport DashboardLayoutRoute from \"./layouts/DashboardLayout\";\nimport LoginLayoutRoute from \"./layouts/loginLayout\";\nimport Register from \"./components/Register/Register\";\nimport Login from \"./components/Login/Login\";\nimport Home from \"./components/Home/Home\";\nimport Game from \"./components/Game/Game\";\nimport Auth from \"./components/Auth/Auth\";\nimport {setAuthUserData} from \"./redux/reducers/authReducer\";\nimport {compose} from \"redux\";\nimport {SocketContextProvider} from \"./components/Context/SocketContextProvider\";\nimport Profile from \"./components/Profile/Profile\";\n\n\nclass App extends React.Component {\n\n  checkConnection = () => {\n    if (JSON.parse(localStorage.getItem('user'))) {\n      let user = JSON.parse(localStorage.getItem('user'));\n      if (user.timestamp > Date.now() - 3600000) {\n        this.props.setAuthUserData(user.userId, user.userName, user.token)\n      } else {\n        window.localStorage.removeItem('user');\n        this.props.setAuthUserData(null, null, null)\n      }\n    } else {\n      this.props.setAuthUserData(null, null, null)\n    }\n  }\n\n  componentDidMount() {\n    this.checkConnection();\n    setInterval(() => {\n      console.log(111)\n      this.checkConnection()\n    }, 1000)\n\n  }\n\n  render() {\n    return (\n      <div className=\"App\">\n        <Auth/>\n        <Switch>\n          <DashboardLayoutRoute exact path='/profile' component={Profile}/>\n          <DashboardLayoutRoute exact path='/' component={Home}/>\n          <DashboardLayoutRoute exact path='/game/:gameId' component={Game}/>\n          <LoginLayoutRoute path='/register' component={Register}/>\n          <LoginLayoutRoute path='/login' component={Login}/>\n        </Switch>\n      </div>\n    );\n  }\n\n}\n\nconst mapStateToProps = (state) => ({})\n\nlet AppContainer = compose(\n  connect(mapStateToProps, {setAuthUserData}))\n(App);\n\nconst mainApp = () => {\n  console.log()\n  return (\n    <BrowserRouter>\n        <Provider store={store}>\n          <AppContainer/>\n        </Provider>\n    </BrowserRouter>\n  );\n}\n\nexport default mainApp;\n\n\n"]},"metadata":{},"sourceType":"module"}