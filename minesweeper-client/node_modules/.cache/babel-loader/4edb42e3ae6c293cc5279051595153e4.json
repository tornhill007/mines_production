{"ast":null,"code":"import _classCallCheck from\"/home/user/WebstormProjects/mines-test/minesweeper-multiplayer/minesweeper-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/user/WebstormProjects/mines-test/minesweeper-multiplayer/minesweeper-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/home/user/WebstormProjects/mines-test/minesweeper-multiplayer/minesweeper-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/home/user/WebstormProjects/mines-test/minesweeper-multiplayer/minesweeper-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from\"react\";import{connect}from\"react-redux\";import{NavLink,withRouter}from'react-router-dom';import ModalContainer from\"../Modal/ModalContainer\";import{openModal}from\"../../redux/reducers/modalReducer\";import EditModalContainer from\"../Modal/EditModal/EditModalContainer\";import classes from'./Home.module.css';import{setIsReady}from\"../../redux/reducers/gameReducer\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Home=/*#__PURE__*/function(_React$Component){_inherits(Home,_React$Component);var _super=_createSuper(Home);function Home(){var _this;_classCallCheck(this,Home);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.joinToGame=function(gameId){_this.props.setIsReady({isReady:false});_this.props.socket.emit('game/join',{gameId:gameId},function(data){console.log(['data'],data);});};_this.joinToGameAsViewer=function(gameId){_this.props.socket.emit('game/join',{gameId:gameId,isViewer:true},function(data){console.log(['data'],data);});};return _this;}_createClass(Home,[{key:\"componentDidMount\",value:function componentDidMount(){}},{key:\"render\",value:function render(){var _this2=this;console.log(\"this.props.usersInRoom\",this.props.usersInRoom);return/*#__PURE__*/_jsxs(\"div\",{className:classes.wrapper,children:[/*#__PURE__*/_jsx(\"div\",{className:classes.leftItem,children:/*#__PURE__*/_jsx(NavLink,{to:'/profile',children:\"Profile\"})}),/*#__PURE__*/_jsxs(\"div\",{className:classes.rightItem,children:[/*#__PURE__*/_jsx(\"div\",{onClick:function onClick(){_this2.props.openModal(/*#__PURE__*/_jsx(EditModalContainer,{title:'TITLE',id:33333,text:'TESTEST'}));},children:\"Open modal\"}),/*#__PURE__*/_jsx(ModalContainer,{}),\"HOME\",/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{children:\"LIST OF ACTIVE GAMES\"}),/*#__PURE__*/_jsx(\"div\",{children:this.props.gamesList.filter(function(game){return!game.isfinished;}).map(function(item){return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{onClick:function onClick(){_this2.joinToGame(item.gameid);},children:[/*#__PURE__*/_jsxs(\"span\",{children:[\"Name: \",item.gamename,\" \"]}),/*#__PURE__*/_jsxs(\"span\",{children:[\"Field: \",item.fieldsize,\" \"]}),/*#__PURE__*/_jsxs(\"span\",{children:[\"Players: \",_this2.props.usersInRoom[item.gameid],\"/\",item.maxplayers,\" \"]}),/*#__PURE__*/_jsxs(\"span\",{children:[\"Mines: \",item.amountofmines,\" \"]}),item.isplaying?/*#__PURE__*/_jsx(\"span\",{children:\"Live\"}):/*#__PURE__*/_jsx(\"span\",{children:\"Pending\"})]}),/*#__PURE__*/_jsx(\"div\",{onClick:function onClick(){_this2.joinToGameAsViewer(item.gameid);},children:\"Join as Viewer\"})]});})})]})]})]});}}]);return Home;}(React.Component);var mapStateToProps=function mapStateToProps(state){return{gamesList:state.gamePage.gamesList,socket:state.socketPage.socket,usersInRoom:state.gamePage.usersInRoom};};export default withRouter(connect(mapStateToProps,{openModal:openModal,setIsReady:setIsReady})(Home));","map":{"version":3,"sources":["/home/user/WebstormProjects/mines-test/minesweeper-multiplayer/minesweeper-client/src/components/Home/Home.jsx"],"names":["React","connect","NavLink","withRouter","ModalContainer","openModal","EditModalContainer","classes","setIsReady","Home","joinToGame","gameId","props","isReady","socket","emit","data","console","log","joinToGameAsViewer","isViewer","usersInRoom","wrapper","leftItem","rightItem","gamesList","filter","game","isfinished","map","item","gameid","gamename","fieldsize","maxplayers","amountofmines","isplaying","Component","mapStateToProps","state","gamePage","socketPage"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport {connect} from \"react-redux\";\nimport {NavLink, withRouter} from 'react-router-dom';\nimport ModalContainer from \"../Modal/ModalContainer\";\nimport {openModal} from \"../../redux/reducers/modalReducer\";\nimport EditModalContainer from \"../Modal/EditModal/EditModalContainer\";\nimport classes from './Home.module.css'\nimport {setIsReady} from \"../../redux/reducers/gameReducer\";\n\nclass Home extends React.Component {\n\n  componentDidMount() {\n\n  }\n\n  joinToGame = (gameId) => {\n    this.props.setIsReady({isReady: false})\n    this.props.socket.emit('game/join', {gameId}, (data) => {\n      console.log(['data'], data)\n    })\n  }\n\n  joinToGameAsViewer = (gameId) => {\n    this.props.socket.emit('game/join', {gameId, isViewer: true}, (data) => {\n      console.log(['data'], data)\n    })\n  }\n\n  render() {\n    console.log(\"this.props.usersInRoom\", this.props.usersInRoom)\n    return (\n      <div className={classes.wrapper}>\n        <div className={classes.leftItem}>\n          <NavLink to={'/profile'}>Profile</NavLink>\n        </div>\n        <div className={classes.rightItem}>\n          <div onClick={() => {\n            this.props.openModal(<EditModalContainer title={'TITLE'} id={33333} text={'TESTEST'}/>)\n          }}>Open modal\n          </div>\n          <ModalContainer/>\n          HOME\n          <div>\n            <span>LIST OF ACTIVE GAMES</span>\n            <div>\n              {this.props.gamesList.filter(game => !game.isfinished).map(item => {\n                return <div>\n                  <div onClick={() => {\n                    this.joinToGame(item.gameid)\n                  }}>\n                    <span>Name: {item.gamename} </span>\n                    <span>Field: {item.fieldsize} </span>\n                    <span>Players: {this.props.usersInRoom[item.gameid]}/{item.maxplayers} </span>\n                    <span>Mines: {item.amountofmines} </span>\n                    {item.isplaying ? <span>Live</span> : <span>Pending</span>}\n                  </div>\n                  <div onClick={() => {\n                    this.joinToGameAsViewer(item.gameid)\n                  }}>Join as Viewer\n                  </div>\n                </div>\n              })}\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => ({\n  gamesList: state.gamePage.gamesList,\n  socket: state.socketPage.socket,\n  usersInRoom: state.gamePage.usersInRoom\n})\n\nexport default withRouter(connect(mapStateToProps, {\n  openModal,\n  setIsReady\n})(Home));\n"]},"metadata":{},"sourceType":"module"}