{"ast":null,"code":"import _regeneratorRuntime from\"/home/user/WebstormProjects/mines-test/minesweeper-multiplayer/minesweeper-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/user/WebstormProjects/mines-test/minesweeper-multiplayer/minesweeper-client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import React from'react';import{Field,reduxForm}from\"redux-form\";import{Input}from\"../../common/FormsControl/FormsControl\";import{required}from\"../../utils/validator\";import classes from\"../Login/Login.module.css\";import{connect}from\"react-redux\";import{register}from\"../../redux/reducers/authReducer\";import{NavLink,Redirect}from\"react-router-dom\";import board from'../../assets/image/board.png';import{FontAwesomeIcon}from\"@fortawesome/react-fontawesome\";import{faTimes,faHome,faUserCircle}from\"@fortawesome/free-solid-svg-icons\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var RegisterForm=function RegisterForm(props){return/*#__PURE__*/_jsx(\"div\",{className:classes.container,children:/*#__PURE__*/_jsxs(\"div\",{className:classes.wrap,children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"h1\",{className:classes.title,children:\"Sign up your account\"})}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:props.handleSubmit,children:[/*#__PURE__*/_jsx(Field,{placeholder:\"User name\",name:\"userName\",validate:[required],component:Input}),/*#__PURE__*/_jsx(Field,{placeholder:\"Password\",name:\"password\",type:\"password\",validate:[required],component:Input}),/*#__PURE__*/_jsx(Field,{placeholder:\"Repeat password\",name:\"repeatPassword\",type:\"password\",validate:[required],component:Input}),props.error&&/*#__PURE__*/_jsx(\"div\",{className:classes.formError,children:props.error}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"input\",{value:\"Sign up\",type:\"submit\",className:\"\".concat(classes.padding,\" \").concat(classes.marginButton)})}),/*#__PURE__*/_jsx(\"div\",{className:classes.topBorderItem,children:/*#__PURE__*/_jsx(NavLink,{to:\"/login\",className:classes.itemText,children:/*#__PURE__*/_jsx(\"span\",{children:\"Do you already have an account? Sign in\"})})})]})]})});};var RegisterReduxForm=reduxForm({form:'register'})(RegisterForm);var Register=function Register(props){var onSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(formData){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:props.register(formData.password,formData.userName,formData.repeatPassword);case 1:case\"end\":return _context.stop();}}},_callee);}));return function onSubmit(_x){return _ref.apply(this,arguments);};}();if(props.userData.token){return/*#__PURE__*/_jsx(Redirect,{to:\"/\"});}return/*#__PURE__*/_jsxs(\"div\",{className:classes.wrapMain,children:[/*#__PURE__*/_jsx(\"div\",{title:'Home',className:classes.exit,children:/*#__PURE__*/_jsx(NavLink,{to:'/',children:/*#__PURE__*/_jsx(FontAwesomeIcon,{className:\"\".concat(classes.marginHome,\" fa-lg\"),icon:faHome})})}),/*#__PURE__*/_jsxs(\"div\",{className:classes.wrapper,children:[/*#__PURE__*/_jsx(\"div\",{className:classes.wrapImg,children:/*#__PURE__*/_jsx(\"img\",{className:classes.img,src:board,alt:\"\"})}),/*#__PURE__*/_jsx(\"div\",{className:classes.wrapTitle,children:/*#__PURE__*/_jsx(\"h1\",{children:\"Messenger\"})})]}),/*#__PURE__*/_jsx(RegisterReduxForm,{onSubmit:onSubmit})]});};var mapStateToProps=function mapStateToProps(state){return{userData:state.auth};};export default connect(mapStateToProps,{register:register})(Register);","map":{"version":3,"sources":["/home/user/WebstormProjects/mines-test/minesweeper-multiplayer/minesweeper-client/src/components/Register/Register.jsx"],"names":["React","Field","reduxForm","Input","required","classes","connect","register","NavLink","Redirect","board","FontAwesomeIcon","faTimes","faHome","faUserCircle","RegisterForm","props","container","wrap","title","handleSubmit","error","formError","padding","marginButton","topBorderItem","itemText","RegisterReduxForm","form","Register","onSubmit","formData","password","userName","repeatPassword","userData","token","wrapMain","exit","marginHome","wrapper","wrapImg","img","wrapTitle","mapStateToProps","state","auth"],"mappings":"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","sourcesContent":["import React from 'react';\nimport {Field, reduxForm} from \"redux-form\";\nimport {Input} from \"../../common/FormsControl/FormsControl\";\nimport {required} from \"../../utils/validator\";\nimport classes from \"../Login/Login.module.css\";\nimport {connect} from \"react-redux\";\nimport {register} from \"../../redux/reducers/authReducer\";\nimport {NavLink, Redirect} from \"react-router-dom\";\nimport board from '../../assets/image/board.png';\nimport {FontAwesomeIcon} from \"@fortawesome/react-fontawesome\";\nimport {faTimes, faHome, faUserCircle} from \"@fortawesome/free-solid-svg-icons\";\n\nconst RegisterForm = (props) => {\n    return <div className={classes.container}>\n        <div className={classes.wrap}>\n            <div>\n                <h1 className={classes.title}>\n                    Sign up your account\n                </h1>\n            </div>\n            <form onSubmit={props.handleSubmit}>\n                <Field placeholder={\"User name\"} name={\"userName\"} validate={[required]}\n                       component={Input}/>\n                <Field placeholder={\"Password\"} name={\"password\"} type={\"password\"}\n                       validate={[required]}\n                       component={Input}/>\n                <Field placeholder={\"Repeat password\"} name={\"repeatPassword\"}\n                       type={\"password\"}\n                       validate={[required]}\n                       component={Input}/>\n                {props.error && <div className={classes.formError}>{props.error}</div>}\n                <div>\n                    <input value=\"Sign up\" type=\"submit\" className={`${classes.padding} ${classes.marginButton}`}/>\n                </div>\n                <div className={classes.topBorderItem}>\n                    <NavLink to={\"/login\"} className={classes.itemText}>\n                    <span>\n                        Do you already have an account? Sign in\n                    </span>\n                    </NavLink>\n                </div>\n            </form>\n        </div>\n    </div>\n}\n\nconst RegisterReduxForm = reduxForm({form: 'register'})(RegisterForm)\n\nconst Register = (props) => {\n    const onSubmit = async (formData) => {\n        props.register(formData.password, formData.userName, formData.repeatPassword);\n    }\n    if (props.userData.token) {\n        return <Redirect to={\"/\"}/>\n    }\n    return <div className={classes.wrapMain}>\n        <div title={'Home'} className={classes.exit}><NavLink to={'/'}><FontAwesomeIcon className={`${classes.marginHome} fa-lg`} icon={faHome}/></NavLink></div>\n        <div className={classes.wrapper}>\n            <div className={classes.wrapImg}>\n                <img className={classes.img}\n                     src={board}\n                     alt=\"\"/>\n            </div>\n            <div className={classes.wrapTitle}><h1>Messenger</h1></div>\n        </div>\n        <RegisterReduxForm onSubmit={onSubmit}/>\n    </div>\n}\n\nconst mapStateToProps = (state) => ({\n    userData: state.auth\n})\n\nexport default connect(mapStateToProps, {register})(Register);"]},"metadata":{},"sourceType":"module"}